{"version":3,"sources":["../../src/pages/painel-pedidos/pedido-list-produtos/adicionar-produto-carrinho/adicionar-produto-carrinho.module.ts","../../src/pages/painel-pedidos/pedido-list-produtos/adicionar-produto-carrinho/adicionar-produto-carrinho.ts"],"names":[],"mappings":"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","file":"15.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { AdicionarProdutoCarrinhoPage } from './adicionar-produto-carrinho';\nimport { ComponentsModule } from '../../../../components/components.module';\n\n@NgModule({\n  declarations: [\n    AdicionarProdutoCarrinhoPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(AdicionarProdutoCarrinhoPage),\n    ComponentsModule,    \n  ],\n})\nexport class AdicionarProdutoCarrinhoPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/painel-pedidos/pedido-list-produtos/adicionar-produto-carrinho/adicionar-produto-carrinho.module.ts","import { Distribuidor } from './../../../../providers/database/models/distribuidor';\r\nimport { Pedido } from './../../../../providers/database/models/pedido';\r\nimport { UsuarioService } from './../../../../providers/database/services/usuario';\r\nimport { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, ToastController, AlertController } from 'ionic-angular';\r\nimport { DistribuidorProduto } from '../../../../providers/database/models/distribuidor-produto';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-adicionar-produto-carrinho',\r\n  templateUrl: 'adicionar-produto-carrinho.html',\r\n})\r\nexport class AdicionarProdutoCarrinhoPage {\r\n  marca: any;\r\n  distribuidorProduto: DistribuidorProduto;\r\n  distribuidor: Distribuidor;\r\n  carrinho: Pedido;\r\n  formulario: FormGroup;\r\n  atualizar: boolean = false;\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    public navParams: NavParams,\r\n    //public pedidosSrvc: PedidosService,\r\n    private formBuilder: FormBuilder,\r\n    private toastCtrl: ToastController,\r\n    private alertCtrl: AlertController,\r\n    private usuarioSrvc: UsuarioService\r\n  ) {\r\n    if (this.navParams.data.distribuidorProduto) {\r\n      this.distribuidorProduto = this.navParams.data.distribuidorProduto;\r\n      this.distribuidor = this.navParams.data.distribuidor;\r\n      if (this.navParams.data.carrinho) {\r\n        this.carrinho = this.navParams.data.carrinho;\r\n        if (this.carrinho.produtos) {\r\n          if (this.carrinho.produtos.filter(x => x.key == this.distribuidorProduto.$key).length > 0) {\r\n            this.atualizar = true;\r\n            this.distribuidorProduto = this.carrinho.produtos.filter(x => x.key == this.distribuidorProduto.$key)[0];\r\n          } else {\r\n            this.distribuidorProduto.dist_quantidade = 1;\r\n          }\r\n        } else {\r\n          this.distribuidorProduto.dist_quantidade = 1;\r\n        }\r\n      } else {\r\n        this.distribuidorProduto.dist_quantidade = 1;\r\n      }\r\n    }\r\n    else\r\n      this.distribuidorProduto = <DistribuidorProduto>{\r\n        dist_produto: null,\r\n        dist_preco: null,\r\n        dist_categoria: null,\r\n        dist_quantidade: null,\r\n        dist_total: null,\r\n        dist_observacao: null,\r\n        produto: null,\r\n        categoria: null,\r\n      }\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.formulario = this.formBuilder.group({\r\n      key: [null],\r\n      dist_produto: [null],\r\n      dist_preco: [null],\r\n      dist_categoria: [null],\r\n      dist_quantidade: [null],\r\n      dist_total: [null],\r\n      dist_observacao: [null],\r\n      produto: [null],\r\n      categoria: [null],\r\n    });\r\n\r\n    this.formulario.patchValue({\r\n      key: this.distribuidorProduto.key,\r\n      dist_produto: this.distribuidorProduto.dist_produto,\r\n      dist_preco: this.distribuidorProduto.dist_preco,\r\n      dist_categoria: this.distribuidorProduto.dist_categoria,\r\n      dist_quantidade: this.distribuidorProduto.dist_quantidade,\r\n      dist_total: this.distribuidorProduto.dist_preco * (this.distribuidorProduto.dist_quantidade ? this.distribuidorProduto.dist_quantidade : 1),\r\n      dist_observacao: this.distribuidorProduto.dist_observacao,\r\n      produto: this.distribuidorProduto.produto,\r\n      categoria: this.distribuidorProduto.categoria,\r\n    });\r\n\r\n    this.formulario.get('dist_quantidade').valueChanges.subscribe(valor => {\r\n      if (valor == 0) {\r\n        let confirm = this.alertCtrl.create({\r\n          title: 'Remover produto',\r\n          message: 'Deseja remover o produto do carrinho?',\r\n          buttons: [\r\n            {\r\n              text: 'Não',\r\n              handler: () => {\r\n                this.distribuidorProduto.dist_quantidade = 1\r\n                this.distribuidorProduto.dist_total = this.distribuidorProduto.dist_preco;\r\n              }\r\n            },\r\n            {\r\n              text: 'Sim',\r\n              handler: () => {\r\n                if (this.distribuidorProduto.key && this.carrinho) {\r\n                  this.carrinho.produtos.splice(\r\n                    this.carrinho.produtos.findIndex(x => x.key == this.distribuidorProduto.key), 1\r\n                  )\r\n                }\r\n                this.atualizarCarrinho();\r\n                this.navCtrl.pop();\r\n              }\r\n            }\r\n          ]\r\n        });\r\n        confirm.present();\r\n      }\r\n    });\r\n  }\r\n\r\n  verificaValidTouched(campo: string) {\r\n    this.formulario.get(campo).errors;\r\n    return (\r\n      !this.formulario.get(campo).valid &&\r\n      (this.formulario.get(campo).touched || this.formulario.get(campo).dirty)\r\n    );\r\n  }\r\n\r\n  verificaValidacoesForm(formGroup: FormGroup) {\r\n    console.log(formGroup);\r\n    Object.keys(formGroup.controls).forEach(campo => {\r\n      const controle = formGroup.get(campo);\r\n      controle.markAsDirty();\r\n      if (controle instanceof FormGroup) {\r\n        this.verificaValidacoesForm(controle);\r\n      }\r\n    });\r\n  }\r\n\r\n  adicionarProduto() {\r\n    if (!this.carrinho) {\r\n      this.carrinho = <Pedido>{\r\n        duracao_value: (<any>this.distribuidor).dist_duracao_value,\r\n        distancia_value: (<any>this.distribuidor).dist_distancia_value,\r\n        duracao_text: (<any>this.distribuidor).dist_duracao_text,\r\n        distancia_text: (<any>this.distribuidor).dist_distancia_text,\r\n        distribuidor: <Distribuidor>{\r\n          key: this.distribuidor.$key,\r\n          dist_nome: this.distribuidor.dist_nome,\r\n          dist_img: this.distribuidor.dist_img,\r\n          dist_cnpj: this.distribuidor.dist_cnpj,\r\n          dist_email: this.distribuidor.dist_email,\r\n          dist_celular: this.distribuidor.dist_celular ? this.distribuidor.dist_celular : 0,\r\n          dist_endereco: this.distribuidor.dist_endereco,\r\n          dist_telefone: this.distribuidor.dist_telefone,\r\n          dist_taxa_entrega: this.distribuidor.dist_taxa_entrega,\r\n        }\r\n      };\r\n    }\r\n    if (!this.carrinho.produtos) {\r\n      this.carrinho.produtos = [];\r\n    }\r\n    this.distribuidorProduto.dist_quantidade = this.formulario.get('dist_quantidade').value;\r\n    this.distribuidorProduto.dist_total = this.distribuidorProduto.dist_preco * this.distribuidorProduto.dist_quantidade;\r\n\r\n    if (this.carrinho.produtos.filter(x => x.key == this.distribuidorProduto.key).length > 0) {\r\n      this.carrinho.produtos.filter(x => x.key == this.distribuidorProduto.key)[0].dist_quantidade = this.distribuidorProduto.dist_quantidade;\r\n      this.carrinho.produtos.filter(x => x.key == this.distribuidorProduto.key)[0].dist_total = this.distribuidorProduto.dist_total;\r\n    } else {\r\n      this.distribuidorProduto.key = this.distribuidorProduto.$key;\r\n      this.carrinho.produtos.push(this.distribuidorProduto);\r\n    }\r\n    this.atualizarCarrinho()\r\n    this.navCtrl.pop();\r\n  }\r\n\r\n  atualizarCarrinho() {\r\n    this.carrinho.total = 0;\r\n    this.carrinho.produtos.forEach(x => {\r\n      this.carrinho.total += x.dist_total;\r\n    });\r\n    this.carrinho.total += Number(this.carrinho.distribuidor.dist_taxa_entrega);\r\n    this.usuarioSrvc.usuarioAtual.usr_carrinho = this.carrinho;\r\n    this.usuarioSrvc.updateCarrinho(this.carrinho);\r\n  }\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/painel-pedidos/pedido-list-produtos/adicionar-produto-carrinho/adicionar-produto-carrinho.ts"],"sourceRoot":""}