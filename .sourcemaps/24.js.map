{"version":3,"sources":["../../src/pages/autenticacao/resetpwd/resetpwd.module.ts","../../src/pages/autenticacao/resetpwd/resetpwd.ts"],"names":[],"mappings":"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","file":"24.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { ResetpwdPage } from './resetpwd';\r\nimport { TranslateModule } from \"@ngx-translate/core\";\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ResetpwdPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(ResetpwdPage),\r\n    TranslateModule.forChild()    \r\n  ],\r\n})\r\nexport class ResetpwdPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/autenticacao/resetpwd/resetpwd.module.ts","import { TranslateService } from '@ngx-translate/core';\r\nimport { AuthServiceProvider } from '../../../providers/auth-service';\r\nimport { Component } from '@angular/core';\r\nimport { NavController, AlertController, NavParams, LoadingController, ToastController, ModalController, IonicPage } from 'ionic-angular';\r\nimport { FormBuilder, Validators } from '@angular/forms';\r\n\r\n/*\r\n  Generated class for the Resetpwd page.\r\n\r\n  See http://ionicframework.com/docs/v2/components/#navigation for more info on\r\n  Ionic pages and navigation.\r\n*/\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-resetpwd',\r\n  templateUrl: 'resetpwd.html'\r\n})\r\nexport class ResetpwdPage {\r\n\r\n  public resetpwdForm;\r\n  emailChanged: boolean = false;\r\n  submitAttempt: boolean = false;\r\n  loading: any;\r\n\r\n  constructor(public navCtrl: NavController, \r\n    public modalCtrl: ModalController, \r\n    public authService: AuthServiceProvider, \r\n    public navParams: NavParams, \r\n    public formBuilder: FormBuilder,\r\n    public alertCtrl: AlertController, \r\n    public loadingCtrl: LoadingController,\r\n    public toastCtrl: ToastController,    \r\n    public translate: TranslateService) {\r\n    let EMAIL_REGEXP = /^[a-z0-9!#$%&'*+\\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i;\r\n    this.resetpwdForm = formBuilder.group({\r\n      email: ['', Validators.compose([Validators.required, Validators.pattern(EMAIL_REGEXP)])]\r\n    });\r\n  }\r\n  register(){\r\n    this.navCtrl.pop();\r\n    this.modalCtrl.create('SignupPage').present();\r\n  }\r\n\r\n  login(){\r\n    this.navCtrl.pop();\r\n    this.modalCtrl.create('LoginPage').present();\r\n  }\r\n  resetPwd() {\r\n    if (!this.resetpwdForm.valid){\r\n      console.log(this.resetpwdForm.value);\r\n    } else {\r\n      this.authService.resetPassword(this.resetpwdForm.value.email).then( authService => {\r\n        \r\n        this.loading.dismiss().then(() => {\r\n          this.translate.get([\"AUTH_SUCCESS_RESET_PASSWORD\",  \"OK_BUTTON_TEXT\"]).subscribe(\r\n            (values) => {\r\n              let toast = this.toastCtrl.create({\r\n                message: values.AUTH_SUCCESS_RESET_PASSWORD,\r\n                duration: 6000,\r\n                position: 'top',\r\n                showCloseButton: true,\r\n                closeButtonText: values.OK_BUTTON_TEXT\r\n              });\r\n              toast.present();\r\n              this.navCtrl.setRoot('LoginPage');\r\n            });\r\n        });        \r\n      }, error => { \r\n        this.loading.dismiss().then(() => {\r\n          var messageErrorTranslated: string;\r\n          this.translate.get([\r\n            \"AUTH_INVALID_EMAIL\", \"AUTH_USER_DISABLED\", \"AUTH_USER_NOT_FOUND_RESET\", \"AUTH_WRONG_PASSWORD\"\r\n          ]).subscribe(\r\n            (values) => {\r\n              switch (error.code) {\r\n                case 'auth/invalid-email':\r\n                  messageErrorTranslated = values.AUTH_INVALID_EMAIL;\r\n                  break;\r\n                case 'auth/user-disabled':\r\n                  messageErrorTranslated = values.AUTH_USER_DISABLED;\r\n                  break;\r\n                case 'auth/user-not-found':\r\n                  messageErrorTranslated = values.AUTH_USER_NOT_FOUND_RESET;\r\n                  break;\r\n                case 'auth/wrong-password':\r\n                  messageErrorTranslated = values.AUTH_WRONG_PASSWORD;\r\n                  break;\r\n              }\r\n              // let alert = this.alertCtrl.create({\r\n              //   message: messageErrorTranslated,\r\n              //   buttons: [\r\n              //     {\r\n              //       text: \"Ok\",\r\n              //       role: 'cancel'\r\n              //     }\r\n              //   ]\r\n              // });\r\n              // alert.present();\r\n              let toast = this.toastCtrl.create({\r\n                message: messageErrorTranslated,\r\n                duration: 3000,\r\n                position: 'top'\r\n              });\r\n              toast.present();\r\n            });\r\n\r\n        });\r\n      });\r\n\r\n      this.loading = this.loadingCtrl.create({\r\n        dismissOnPageChange: true,\r\n      });\r\n      this.loading.present();\r\n    }\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/autenticacao/resetpwd/resetpwd.ts"],"sourceRoot":""}