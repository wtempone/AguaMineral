{"version":3,"sources":["../../src/pages/geral/photo-resize/photo-resize.module.ts","../../src/pages/geral/photo-resize/photo-resize.ts","../../node_modules/angular2-resizing-cropping-image/bundles/ly.resizing-cropping-image.umd.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAAyC;AACO;AACC;AACgC;AAWjF,IAAa,qBAAqB;IAAlC;IAAoC,CAAC;IAAD,4BAAC;AAAD,CAAC;AAAxB,qBAAqB;IATjC,+DAAQ,CAAC;QACR,YAAY,EAAE;YACZ,sEAAe;SAChB;QACD,OAAO,EAAE;YACP,sEAAe,CAAC,QAAQ,CAAC,sEAAe,CAAC;YACzC,+FAA6B;SAC9B;KACF,CAAC;GACW,qBAAqB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;ACdQ;AAC0B;AAEpE;;;;;GAKG;AAOH,IAAa,eAAe;IAE1B,yBAAmB,OAAsB,EAAS,SAAoB;QAAnD,YAAO,GAAP,OAAO,CAAe;QAAS,cAAS,GAAT,SAAS,CAAW;IACtE,CAAC;IAED,wCAAc,GAAd;QACE,OAAO,CAAC,GAAG,CAAC,gCAAgC,CAAC,CAAC;IAChD,CAAC;IAEH,sBAAC;AAAD,CAAC;AATY,eAAe;IAL3B,wEAAS,EAAE;IACX,gEAAS,CAAC;QACT,QAAQ,EAAE,mBAAmB;OACG;KACjC,CAAC;oBAGsE;AAOvE;SATY,eAAe,gB;;;;;;;ACf5B;AACA;AACA;AACA,sCAAsC,mCAAmC,yFAAyF;AAClK,CAAC,yEAAyE;;AAE1E;AACA;AACA,eAAe,EAAE;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,6BAA6B,0BAA0B;AACvD,kCAAkC,0BAA0B;AAC5D;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,uBAAuB,EAAE;AACzB,uBAAuB,EAAE;AACzB,uBAAuB,EAAE;AACzB,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,uBAAuB,EAAE;AACzB,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,uBAAuB,EAAE;AACzB,uBAAuB,EAAE;AACzB,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,uBAAuB,EAAE,mBAAmB,EAAE;AAC9C,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,uBAAuB,EAAE;AACzB,uBAAuB,EAAE;AACzB,uBAAuB,EAAE,kBAAkB;AAC3C,uBAAuB,EAAE;AACzB,uBAAuB,EAAE,oBAAoB;AAC7C,uBAAuB,EAAE;AACzB,uBAAuB,EAAE;AACzB;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,uBAAuB,EAAE;AACzB,uBAAuB,EAAE;AACzB,uBAAuB,EAAE,kBAAkB;AAC3C,uBAAuB,EAAE;AACzB,uBAAuB,EAAE,oBAAoB;AAC7C,uBAAuB,EAAE;AACzB,uBAAuB,EAAE;AACzB,uBAAuB,EAAE,4BAA4B;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,gBAAgB;AAChB;AACA;AACA,uBAAuB,EAAE,2BAA2B,EAAE,gFAAgF,EAAE,+GAA+G,EAAE,4GAA4G,EAAE,2CAA2C,EAAE;AACpZ,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,KAAK;AACL;AACA;AACA,gCAAgC,yBAAyB,sBAAsB,qBAAqB,iBAAiB,MAAM,kBAAkB,aAAa,UAAU,cAAc,eAAe,YAAY,YAAY,kBAAkB,WAAW,MAAM,SAAS,OAAO,QAAQ,oBAAoB,kBAAkB,YAAY,cAAc,UAAU,wCAAwC,UAAU,kBAAkB,MAAM,OAAO,SAAS,QAAQ,eAAe,aAAa,kBAAkB,WAAW,iBAAiB,gBAAgB,MAAM,aAAa,QAAQ,kBAAkB,YAAY,aAAa,MAAM,oBAAoB,SAAS,OAAO,QAAQ,YAAY,wGAAwG,6BAA6B,WAAW,gBAAgB,MAAM,SAAS,YAAY,kBAAkB,OAAO,QAAQ,YAAY,eAAe,UAAU,YAAY,cAAc,WAAW,WAAW,4CAA4C,kBAAkB,mBAAmB,4FAA4F,kBAAkB,mBAAmB,WAAW,WAAW,YAAY,YAAY,YAAY,UAAU,KAAK,OAAO,YAAY,UAAU,gBAAgB,WAAW,WAAW,MAAM,SAAS,MAAM,SAAS,UAAU,iBAAiB,MAAM,SAAS,UAAU,iBAAiB,MAAM,WAAW,UAAU,iBAAiB,MAAM,WAAW,UAAU,iBAAiB;AACx+C,0HAA0H,QAAQ,mCAAmC,QAAQ,sCAAsC,QAAQ,oCAAoC,4BAA4B,qPAAqP,2KAA2K,gJAAgJ,gJAAgJ,gJAAgJ,4fAA4f,oBAAoB;AAC3nD,aAAa,IAAI;AACjB;AACA;AACA;AACA;AACA,8DAA8D;AAC9D,KAAK,kCAAkC;AACvC,EAAE;AACF;AACA,gBAAgB,+CAA+C;AAC/D;AACA;AACA,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA,mBAAmB,EAAE,wBAAwB,EAAE,oBAAoB,EAAE,WAAW,kBAAkB,aAAa,EAAE;AACjH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,KAAK;AACL;AACA;AACA;AACA,aAAa,IAAI;AACjB;AACA;AACA;AACA;AACA,4DAA4D,WAAW;;AAEvE;AACA;;AAEA,8CAA8C,cAAc;;AAE5D,CAAC","file":"1.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { PhotoResizePage } from './photo-resize';\r\nimport { LyResizingCroppingImageModule } from 'angular2-resizing-cropping-image';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    PhotoResizePage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(PhotoResizePage),\r\n    LyResizingCroppingImageModule\r\n  ],\r\n})\r\nexport class PhotoResizePageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/geral/photo-resize/photo-resize.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\r\n\r\n/**\r\n * Generated class for the PhotoResizePage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-photo-resize',\r\n  templateUrl: 'photo-resize.html',\r\n})\r\nexport class PhotoResizePage {\r\n\r\n  constructor(public navCtrl: NavController, public navParams: NavParams) {\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad PhotoResizePage');\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/geral/photo-resize/photo-resize.ts","(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@angular/core'), require('@angular/common'), require('@angular/forms')) :\n\ttypeof define === 'function' && define.amd ? define(['exports', '@angular/core', '@angular/common', '@angular/forms'], factory) :\n\t(factory((global.ng = global.ng || {}, global.ng.ly = global.ng.ly || {}, global.ng.ly['resizing-cropping-image'] = global.ng.ly['resizing-cropping-image'] || {}),global.ng.core,global.ng.common,global.ng.forms));\n}(this, (function (exports,_angular_core,_angular_common,_angular_forms) { 'use strict';\n\nvar ResizingCroppingImagesComponent = (function () {\r\n    /**\r\n     * @param {?} elementRef\r\n     */\r\n    function ResizingCroppingImagesComponent(elementRef) {\r\n        this.elementRef = elementRef;\r\n        this._format = 'jpeg';\r\n        this.img = null;\r\n        this.sizeW = 230;\r\n        this.sizeH = 150;\r\n        this.sizeWmax = 720;\r\n        this.sizeHmax = 720;\r\n        this.stateMouse = false;\r\n        this.stateType = 'none';\r\n        this.stateR = 'none';\r\n        this.centerX = 0;\r\n        this.centerY = 0;\r\n        this.percent = 100;\r\n        this.imgUrl = null;\r\n        this._top = 0;\r\n        this._left = 0;\r\n        this._img = {};\r\n        this._src = null;\r\n        // this._log.setLog('ResizingCroppingImages');\r\n    }\r\n    Object.defineProperty(ResizingCroppingImagesComponent.prototype, \"styleCrop\", {\r\n        /**\r\n         * @return {?}\r\n         */\r\n        get: function () {\r\n            return {\r\n                // color: `${this.palette.accent.color}`,\r\n                // background: `${this.palette.accent.color}`,\r\n                color: \"#00bcd4\",\r\n                background: \"#00bcd4\",\r\n            };\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ResizingCroppingImagesComponent.prototype, \"format\", {\r\n        /**\r\n         * @return {?}\r\n         */\r\n        get: function () {\r\n            return this._format;\r\n        },\r\n        /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        set: function (value) {\r\n            this._format = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @param {?} changes\r\n     * @return {?}\r\n     */\r\n    ResizingCroppingImagesComponent.prototype.ngOnChanges = function (changes) {\r\n        // console.log('change stdsf');\r\n    };\r\n    /**\r\n     * @param {?} state\r\n     * @return {?}\r\n     */\r\n    ResizingCroppingImagesComponent.prototype.zoom = function (state) {\r\n        var /** @type {?} */ W = this.elementRef.nativeElement.querySelector('._img').offsetWidth;\r\n        var /** @type {?} */ H = this.elementRef.nativeElement.querySelector('._img').offsetHeight;\r\n        var /** @type {?} */ oTop = this.elementRef.nativeElement.querySelector('._img').offsetTop;\r\n        var /** @type {?} */ oLeft = this.elementRef.nativeElement.querySelector('._img').offsetLeft;\r\n        this.stateType = 'resize';\r\n        this.stateR = state;\r\n        this.resize(0, W, H, oTop, oLeft);\r\n    };\r\n    /**\r\n     * @param {?} $e\r\n     * @return {?}\r\n     */\r\n    ResizingCroppingImagesComponent.prototype.startMove = function ($e) {\r\n        var /** @type {?} */ oTop = this.elementRef.nativeElement.querySelector('._img').offsetTop;\r\n        var /** @type {?} */ oLeft = this.elementRef.nativeElement.querySelector('._img').offsetLeft;\r\n        this.centerX = $e.clientX -\r\n            offset(this.elementRef.nativeElement.querySelector('.content-img')).left - oLeft;\r\n        this.centerY = $e.clientY -\r\n            offset(this.elementRef.nativeElement.querySelector('.content-img')).top - oTop;\r\n    };\r\n    /**\r\n     * @param {?} $e\r\n     * @return {?}\r\n     */\r\n    ResizingCroppingImagesComponent.prototype.moveImg = function ($e) {\r\n        $e.stopPropagation();\r\n        $e.preventDefault();\r\n        var /** @type {?} */ W = this.elementRef.nativeElement.querySelector('._img').offsetWidth;\r\n        var /** @type {?} */ H = this.elementRef.nativeElement.querySelector('._img').offsetHeight;\r\n        var /** @type {?} */ oTop = this.elementRef.nativeElement.querySelector('._img').offsetTop;\r\n        var /** @type {?} */ oLeft = this.elementRef.nativeElement.querySelector('._img').offsetLeft;\r\n        if (this.stateType === 'move') {\r\n            this._left = $e.clientX -\r\n                offset(this.elementRef.nativeElement.querySelector('.content-img')).left - (this.centerX);\r\n            this._top = -offset(this.elementRef.nativeElement.querySelector('.content-img')).top +\r\n                $e.clientY - (this.centerY);\r\n        }\r\n        else if (this.stateType === 'resize') {\r\n            this.resize($e, W, H, oTop, oLeft);\r\n        }\r\n    };\r\n    /**\r\n     * @param {?} ev$\r\n     * @param {?} W\r\n     * @param {?} H\r\n     * @param {?} oTop\r\n     * @param {?} oLeft\r\n     * @return {?}\r\n     */\r\n    ResizingCroppingImagesComponent.prototype.resize = function (ev$, W, H, oTop, oLeft) {\r\n        var /** @type {?} */ _W, /** @type {?} */ _H;\r\n        var /** @type {?} */ contentImg = this.elementRef.nativeElement.querySelector('.content-img');\r\n        if (this.stateR === 'nw') {\r\n            this._left = -offset(contentImg).left + (ev$.clientX || ev$.pageY);\r\n            this._top = -offset(contentImg).top +\r\n                (ev$.clientY || ev$.pageX);\r\n            _W = Math.round(this.elementRef.nativeElement.querySelector('._img').offsetWidth -\r\n                (this._left - oLeft));\r\n            _H = Math.round(this.elementRef.nativeElement.querySelector('._img').offsetHeight -\r\n                (this._top - oTop));\r\n            if (ev$.shiftKey) {\r\n                this._top = (-offset(contentImg).top + (ev$.clientY ||\r\n                    ev$.pageX)) - ((_W / this.imgWidth * this.imgHeight) - _H);\r\n            }\r\n        }\r\n        else if (this.stateR === 'ne') {\r\n            this._left = oLeft;\r\n            this._top = -offset(contentImg).top +\r\n                (ev$.clientY || ev$.pageY);\r\n            _W = Math.round((-offset(contentImg).left +\r\n                (ev$.clientX || ev$.pageX)) - oLeft);\r\n            _H = Math.round(this.elementRef.nativeElement.querySelector('._img').offsetHeight -\r\n                (this._top - oTop));\r\n            if (ev$.shiftKey) {\r\n                this._top = (-offset(contentImg).top +\r\n                    (ev$.clientY || ev$.pageY)) - ((_W / this.imgWidth * this.imgHeight) - _H);\r\n            }\r\n        }\r\n        else if (this.stateR === 'se') {\r\n            this._left = oLeft;\r\n            this._top = oTop;\r\n            _W = (-offset(contentImg).left +\r\n                (ev$.clientX || ev$.pageX)) - oLeft;\r\n            _H = (-offset(contentImg).top +\r\n                (ev$.clientY || ev$.pageY)) - oTop;\r\n        }\r\n        else if (this.stateR === 'sw') {\r\n            // console.log('event ne', ev$);\r\n            this._left = -offset(contentImg).left + (ev$.clientX || ev$.pageX);\r\n            this._top = oTop;\r\n            _W = Math.round(this.elementRef.nativeElement.querySelector('._img').offsetWidth -\r\n                (this._left - oLeft));\r\n            _H = Math.round((-offset(contentImg).top +\r\n                (ev$.clientY || ev$.pageY)) - oTop);\r\n        }\r\n        else if (this.stateR === '-') {\r\n            _W = W / 2;\r\n            _H = H / 2;\r\n            this.stateType = 'none';\r\n            this._left = (contentImg.offsetWidth / 2) - _W / 2;\r\n            this._top = (contentImg.offsetHeight / 2) - _H / 2;\r\n            this.crop();\r\n        }\r\n        else if (this.stateR === '+') {\r\n            _W = W * 2;\r\n            _H = H * 2;\r\n            this._left = (contentImg.offsetWidth / 2) - _W / 2;\r\n            this._top = (contentImg.offsetHeight / 2) - _H / 2;\r\n            this.stateType = 'none';\r\n            this.crop();\r\n        }\r\n        if (ev$.shiftKey) {\r\n            _H = _W / this.imgWidth * this.imgHeight;\r\n        }\r\n        var /** @type {?} */ fileReader = new FileReader();\r\n        var /** @type {?} */ img;\r\n        var /** @type {?} */ origSrc = new Image();\r\n        var /** @type {?} */ minWidth = 80; // Change as required\r\n        var /** @type {?} */ minHeight = 80;\r\n        var /** @type {?} */ maxWidth = 2400; // Change as required\r\n        var /** @type {?} */ maxHeight = 2200;\r\n        var /** @type {?} */ cropCanvas = document.createElement('canvas');\r\n        origSrc.src = this.origImg;\r\n        cropCanvas.width = _W;\r\n        cropCanvas.height = _H;\r\n        var /** @type {?} */ ctx = cropCanvas.getContext('2d');\r\n        ctx.drawImage(origSrc, 0, 0, // Start at 10 pixels from the left and the top of the image (crop),\r\n        _W, _H);\r\n        this.imgDataUrl = cropCanvas.toDataURL(\"image/\" + this._format);\r\n        // console.log(cropCanvas.toDataURL(\"image/jpeg\"));\r\n        // console.log(origSrc.width,origSrc.height);\r\n    };\r\n    /**\r\n     * @param {?} value\r\n     * @return {?}\r\n     */\r\n    ResizingCroppingImagesComponent.prototype.writeValue = function (value) {\r\n        // nothing\r\n    };\r\n    /**\r\n     * @param {?} fn\r\n     * @return {?}\r\n     */\r\n    ResizingCroppingImagesComponent.prototype.registerOnTouched = function (fn) {\r\n        this._onTouchedCallback = fn;\r\n    };\r\n    /**\r\n     * @param {?} fn\r\n     * @return {?}\r\n     */\r\n    ResizingCroppingImagesComponent.prototype.registerOnChange = function (fn) {\r\n        this._onChangeCallback = fn;\r\n    };\r\n    /**\r\n     * @param {?} $event\r\n     * @return {?}\r\n     */\r\n    ResizingCroppingImagesComponent.prototype.imgChange = function ($event) {\r\n        var _this = this;\r\n        // this._log.setLog('imgChange', $event);\r\n        // important add converter img to size of output\r\n        // important add converter img to size of output\r\n        this._img = $event.target.files[0];\r\n        this.img = $event.target.value.replace(/.*(\\/|\\\\)/, '');\r\n        var /** @type {?} */ fileReader = new FileReader();\r\n        var /** @type {?} */ img;\r\n        var /** @type {?} */ origSrc = new Image();\r\n        var /** @type {?} */ minWidth = 80; // Change as required!!\r\n        var /** @type {?} */ minHeight = 80;\r\n        var /** @type {?} */ maxWidth = 2400; // Change as required\r\n        var /** @type {?} */ maxHeight = 2200;\r\n        var /** @type {?} */ cropCanvas = document.createElement('canvas');\r\n        var /** @type {?} */ blank = \"data:image/png;base64,iVBORw0KGg\" + 'oAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAU' + \"AAarVyFEAAAAASUVORK5CYII=\";\r\n        fileReader.onload = function (ev) {\r\n            // this._log.setLog('ev', ev);\r\n            // this._log.setLog('$event.target.files', $event.target.files);\r\n            // this._log.setLog('$event.target.files', $event.target.files);\r\n            // this._log.setLog('$event.target.files[0].type', $event.target.files[0].type);\r\n            if ($event.target.files[0].type === 'image/jpeg' ||\r\n                $event.target.files[0].type === 'image/jpg' ||\r\n                $event.target.files[0].type === 'image/png' ||\r\n                $event.target.files[0].type === 'image/gif') {\r\n                _this.imgDataUrl = ev.target.result;\r\n                _this.origImg = ev.target.result;\r\n                origSrc.src = ev.target.result;\r\n                img = ev.target.result;\r\n            }\r\n            else {\r\n                _this.imgDataUrl = blank;\r\n                _this.origImg = blank;\r\n                origSrc.src = blank;\r\n            }\r\n            _this.imgWidth = origSrc.width;\r\n            _this.imgHeight = origSrc.height;\r\n            _this._left = (_this.elementRef.nativeElement.querySelector('.content-img').offsetWidth / 2) -\r\n                _this.imgWidth / 2;\r\n            _this._top = (_this.elementRef.nativeElement.querySelector('.content-img').offsetHeight / 2) -\r\n                _this.imgHeight / 2;\r\n            // ctx.drawImage(origSrc, 0, 0);\r\n            console.warn(origSrc.width);\r\n        };\r\n        fileReader.readAsDataURL($event.target.files[0]);\r\n        // console.log($event.target.files[0]);\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    ResizingCroppingImagesComponent.prototype.center = function () {\r\n        var _this = this;\r\n        this.imgWidth = this.elementRef.nativeElement.querySelector('._img').offsetWidth;\r\n        this.imgHeight = this.elementRef.nativeElement.querySelector('._img').offsetHeight;\r\n        this._left = (this.elementRef.nativeElement.querySelector('.content-img').offsetWidth / 2) -\r\n            this.imgWidth / 2;\r\n        this._top = (this.elementRef.nativeElement.querySelector('.content-img').offsetHeight / 2) -\r\n            this.imgHeight / 2;\r\n        this.crop();\r\n        setTimeout(function () {\r\n            _this.crop();\r\n        }, 10);\r\n        setTimeout(function () {\r\n            _this.crop();\r\n        }, 100);\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    ResizingCroppingImagesComponent.prototype.crop = function () {\r\n        var /** @type {?} */ cropCanvas, /** @type {?} */ resize = this.elementRef.nativeElement.querySelector('.resize'), /** @type {?} */ left = offset(resize).left - offset(this.elementRef.nativeElement.querySelector('._img')).left, /** @type {?} */ top = offset(resize).top - offset(this.elementRef.nativeElement.querySelector('._img')).top, /** @type {?} */ width = resize.offsetWidth, /** @type {?} */ height = resize.offsetHeight;\r\n        var /** @type {?} */ origSrc = new Image();\r\n        origSrc.src = this.imgDataUrl;\r\n        cropCanvas = document.createElement('canvas');\r\n        cropCanvas.width = width;\r\n        cropCanvas.height = height;\r\n        cropCanvas.getContext('2d').drawImage(origSrc, left, top, width, height, 0, 0, width, height);\r\n        this.imgCrop = cropCanvas.toDataURL(\"image/\" + this._format);\r\n    };\r\n    return ResizingCroppingImagesComponent;\r\n}());\r\nResizingCroppingImagesComponent.decorators = [\r\n    { type: _angular_core.Component, args: [{\r\n                //.toString(),\r\n                selector: 'ly-cropping-img',\r\n                styles: [\":host{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}._img{position:absolute;display:flex}._img img{width:inherit;height:inherit;cursor:move}._img:after{position:absolute;content:'';top:0;bottom:0;left:0;right:0;pointer-events:none;border:dashed 1px;opacity:.75;color:inherit;z-index:1}/deep/ .fileUpload input[type=\\\"file\\\"]{opacity:0;position:absolute;top:0;left:0;bottom:0;right:0;cursor:pointer}.content-img{position:relative;width:100%;min-height:320px;overflow:hidden}.NoNe{display:none}.resize{position:absolute;width:300px;height:300px;top:0;pointer-events:none;bottom:0;left:0;right:0;margin:auto;box-shadow:0 0 0 1200px rgba(255,255,255,0.25),0 0 0 1px rgba(255,255,255,0),0 0 0 1px rgba(0,0,0,0.22)}.resize:before,.resize:after{content:'';background:#000;top:0;bottom:0;margin:auto;position:absolute;left:0;right:0;opacity:.25}.resize:before{width:1px;height:25px}.resize:after{width:25px;height:1px}.r_w,.r_n,.r_e,.r_s,.r_nw,.r_ne,.r_se,.r_sw{position:absolute;background:inherit}.r_w:after,.r_n:after,.r_e:after,.r_s:after,.r_nw:after,.r_ne:after,.r_se:after,.r_sw:after{position:absolute;background:inherit;content:'';width:11px;height:11px;margin:auto;opacity:.85;z-index:1}.r_w{left:0;height:100%;width:1px;cursor:w-resize}.r_w:after{right:-3px;top:0;bottom:0}.r_nw{top:-5px;left:-5px;cursor:nw-resize}.r_ne{top:-5px;right:5px;cursor:ne-resize}.r_se{bottom:5px;right:5px;cursor:se-resize}.r_sw{bottom:5px;left:-5px;cursor:sw-resize} \"],\r\n                template: \"\\n  <ng-content></ng-content>\\n  <div class=\\\"content-img\\\"\\n  (mouseleave)=\\\"stateType='none'; crop();\\\"\\n  (mouseup)=\\\"stateType='none'; crop();\\\"\\n  (mouseenter)=\\\"stateType='none'; crop();\\\"\\n  (mousemove)=\\\"moveImg($event);\\\"\\n  (dblclick)=\\\"center();\\\"\\n  >\\n    <div class=\\\"_img\\\"\\n    [class.NoNe]=\\\"imgDataUrl==undefined || imgDataUrl==null\\\"\\n    [style.top.px]=\\\"_top\\\"\\n    [style.left.px]=\\\"_left\\\"\\n    [ngStyle]=\\\"styleCrop\\\"\\n\\n    >\\n      <img\\n      (mousedown)=\\\"stateType='move'; startMove($event)\\\"\\n      (mouseup)=\\\"stateType='none'\\\"\\n      [src]=\\\"imgDataUrl\\\"\\n      >\\n      <span\\n      class=\\\"r_nw\\\"\\n      (mousedown)=\\\"stateType='resize'; stateR='nw'\\\"\\n      (mouseup)=\\\"stateType='none'\\\"\\n      ></span>\\n      <span\\n      class=\\\"r_ne\\\"\\n      (mousedown)=\\\"stateType='resize'; stateR='ne'\\\"\\n      (mouseup)=\\\"stateType='none'\\\"\\n      ></span>\\n      <span\\n      class=\\\"r_se\\\"\\n      (mousedown)=\\\"stateType='resize'; stateR='se'\\\"\\n      (mouseup)=\\\"stateType='none'\\\"\\n      ></span>\\n      <span\\n      class=\\\"r_sw\\\"\\n      (mousedown)=\\\"stateType='resize'; stateR='sw'\\\"\\n      (mouseup)=\\\"stateType='none'\\\"\\n      ></span>\\n    </div>\\n    <div class=\\\"resize\\\"\\n    [style.width.px]=\\\"sizeW\\\"\\n    [style.height.px]=\\\"sizeH\\\"\\n    >\\n      <!--<span class=\\\"r_w\\\"></span>\\n      <span class=\\\"r_n\\\"></span>\\n      <span class=\\\"r_e\\\"></span>\\n      <span class=\\\"r_s\\\"></span>\\n      <span class=\\\"r_nw\\\"></span>\\n      <span class=\\\"r_ne\\\"></span>\\n      <span class=\\\"r_se\\\"></span>\\n      <span class=\\\"r_sw\\\"></span>-->\\n    </div>\\n  </div>\\n  <!--<code>{{ _log.logs | json }}</code>-->\\n  \",\r\n            },] },\r\n];\r\n/**\r\n * @nocollapse\r\n */\r\nResizingCroppingImagesComponent.ctorParameters = function () { return [\r\n    { type: _angular_core.ElementRef, },\r\n]; };\r\nResizingCroppingImagesComponent.propDecorators = {\r\n    'format': [{ type: _angular_core.Input, args: ['format',] },],\r\n};\r\n/**\r\n * @param {?} obj\r\n * @return {?}\r\n */\r\nfunction isWindow(obj) {\r\n    return obj !== null && obj === obj.window;\r\n}\r\n/**\r\n * @param {?} elem\r\n * @return {?}\r\n */\r\nfunction getWindow(elem) {\r\n    return isWindow(elem) ? elem : elem.nodeType === 9 && elem.defaultView;\r\n}\r\n/**\r\n * @param {?} elem\r\n * @return {?}\r\n */\r\nfunction offset(elem) {\r\n    var /** @type {?} */ docElem, /** @type {?} */ win, /** @type {?} */ box = { top: 0, left: 0 }, /** @type {?} */ doc = elem && elem.ownerDocument;\r\n    docElem = doc.documentElement;\r\n    if (typeof elem.getBoundingClientRect !== typeof undefined) {\r\n        box = elem.getBoundingClientRect();\r\n    }\r\n    win = getWindow(doc);\r\n    return {\r\n        top: box.top + win.pageYOffset - docElem.clientTop,\r\n        left: box.left + win.pageXOffset - docElem.clientLeft\r\n    };\r\n}\n\nvar LyResizingCroppingImageModule = (function () {\r\n    function LyResizingCroppingImageModule() {\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    LyResizingCroppingImageModule.forRoot = function () {\r\n        return {\r\n            ngModule: LyResizingCroppingImageModule,\r\n            providers: []\r\n        };\r\n    };\r\n    return LyResizingCroppingImageModule;\r\n}());\r\nLyResizingCroppingImageModule.decorators = [\r\n    { type: _angular_core.NgModule, args: [{\r\n                imports: [_angular_common.CommonModule, _angular_forms.FormsModule],\r\n                exports: [ResizingCroppingImagesComponent],\r\n                declarations: [ResizingCroppingImagesComponent],\r\n            },] },\r\n];\r\n/**\r\n * @nocollapse\r\n */\r\nLyResizingCroppingImageModule.ctorParameters = function () { return []; };\n\nexports.LyResizingCroppingImageModule = LyResizingCroppingImageModule;\nexports.ResizingCroppingImagesComponent = ResizingCroppingImagesComponent;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/angular2-resizing-cropping-image/bundles/ly.resizing-cropping-image.umd.js\n// module id = 737\n// module chunks = 1"],"sourceRoot":""}