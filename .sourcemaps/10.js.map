{"version":3,"sources":["../../src/pages/painel-pedidos/pedido-list-produtos/pedido-forma-pagamento/pedido-forma-pagamento.module.ts","../../src/pages/painel-pedidos/pedido-list-produtos/pedido-forma-pagamento/pedido-forma-pagamento.ts"],"names":[],"mappings":"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","file":"10.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { PedidoFormaPagamentoPage } from './pedido-forma-pagamento';\n\n@NgModule({\n  declarations: [\n    PedidoFormaPagamentoPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(PedidoFormaPagamentoPage),\n  ],\n})\nexport class PedidoFormaPagamentoPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/painel-pedidos/pedido-list-produtos/pedido-forma-pagamento/pedido-forma-pagamento.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { Pedido } from '../../../../providers/database/models/pedido';\nimport { UsuarioService } from '../../../../providers/database/services/usuario';\nimport { DistribuidorService } from '../../../../providers/database/services/distribuidor';\nimport { Distribuidor } from '../../../../providers/database/models/distribuidor';\nimport { DistribuidorFormaPagamento } from '../../../../providers/database/models/distribuidor-forma-pagamento';\nimport { FormaPagamento } from '../../../../providers/database/models/forma-pagamento';\nimport { FormaPagamentoService } from '../../../../providers/database/services/forma-pagamento';\nimport { TipoPagamentoService } from '../../../../providers/database/services/tipo-pagamento';\nimport { TipoPagamento } from '../../../../providers/database/models/tipo-pagamento';\nimport { AlertController } from 'ionic-angular/components/alert/alert-controller';\n\n@IonicPage()\n@Component({\n  selector: 'page-pedido-forma-pagamento',\n  templateUrl: 'pedido-forma-pagamento.html',\n})\nexport class PedidoFormaPagamentoPage {\n  carrinho: Pedido;\n  formasPagamento: FormaPagamento[];\n\n  constructor(\n    public navCtrl: NavController, \n    public navParams: NavParams,\n    public usuarioSrvc: UsuarioService,\n    public distribuidorSrvc: DistribuidorService,\n    public formaPagamentoSrvc: FormaPagamentoService,\n    public tipoPagamentoSrvc: TipoPagamentoService,\n    public alertCtrl: AlertController,\n  ) {\n    let enderecosPadrao =  this.usuarioSrvc.usuarioAtual.usr_endereco.filter(x => x.padrao == true);\n    if (enderecosPadrao.length > 0 ){\n      this.usuarioSrvc.usuarioAtual.usr_carrinho.enderecoEntrega = enderecosPadrao[0];\n    } else {\n      this.usuarioSrvc.usuarioAtual.usr_carrinho.enderecoEntrega = this.usuarioSrvc.usuarioAtual.usr_endereco[0]\n    }\n\n    this.distribuidorSrvc.get(this.usuarioSrvc.usuarioAtual.usr_carrinho.distribuidor.key).take(1).subscribe((distribuidor: Distribuidor) => {\n      if (!distribuidor.dist_formas_pagamento) {\n        let alert = this.alertCtrl.create({\n          title: 'Forma de pagamento não configurada',\n          subTitle: 'Não é possível realizar o pedido para esta distribuidora, não há configuração de forma de pagamento.',\n          buttons: ['Ok']\n        });\n        alert.present();\n        this.navCtrl.pop();\n        return;   \n      }\n      let formasPagamento = distribuidor.dist_formas_pagamento;\n      this.formasPagamento = [];      \n      formasPagamento.map((distFormaPagamento: DistribuidorFormaPagamento) => {\n        this.formaPagamentoSrvc.get(distFormaPagamento.key).then((formaPagamento:FormaPagamento) => {\n          this.formasPagamento.push( <FormaPagamento> {\n            pag_mnemonico: formaPagamento.pag_mnemonico,\n            pag_descricao: formaPagamento.pag_descricao,\n            pag_img: formaPagamento.pag_img,\n            pag_tipos: [],\n            _selecionada: false\n          })\n          if (distFormaPagamento.pag_tipos) {\n            distFormaPagamento.pag_tipos.forEach(TipoPagKey => {\n              this.tipoPagamentoSrvc.get(distFormaPagamento.key, TipoPagKey).then((TipoPag: TipoPagamento) => {\n                this.formasPagamento[this.formasPagamento.length -1].pag_tipos.push(<TipoPagamento> {\n                  tipopag_mnemonico: TipoPag.tipopag_mnemonico,\n                  tipopag_descricao: TipoPag.tipopag_descricao,\n                  tipopag_img: TipoPag.tipopag_img,\n                  _selecionado: false\n                });\n              })\n            })\n          }\n        })\n      })\n    })\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/painel-pedidos/pedido-list-produtos/pedido-forma-pagamento/pedido-forma-pagamento.ts"],"sourceRoot":""}